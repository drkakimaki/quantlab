# Golden config used by tests/regression/test_best_trend_2024_2025_series.py
# NOTE: Quantlab configs are canonical pipeline-based. Legacy flat blocks are not supported.

symbol: XAUUSD
corr_symbol: XAGUSD
corr2_symbol: EURUSD
roots:
  root_5m_ohlc: quantlab/data/dukascopy_5m_ohlc
  root_15m_ohlc: quantlab/data/dukascopy_15m_ohlc
periods:
  mode: three_block
  three_block:
    p1:
      name: 2020-2022
      start: '2020-01-01'
      end: '2022-12-31'
    p2:
      name: 2023-2025
      start: '2023-01-01'
      end: '2025-12-31'
    p3:
      name: '2026'
      start: '2026-01-01'
      end: today
costs:
  fee_per_lot: 3.5
  spread_per_lot: 3.5
trend:
  fast: 30
  slow: 75

time_filter:
  kind: fomc
  fomc:
    days_csv: quantlab/data/econ_calendar/fomc_decision_days.csv
    utc_hhmm: '19:00'
    pre_hours: 2.0
    post_hours: 0.5

pipeline:
  - gate: htf_confirm
    params:
      fast: 30
      slow: 75
  - gate: ema_sep
    params:
      ema_fast: 40
      ema_slow: 300
      atr_n: 20
      sep_k: 0.05
  - gate: nochop
    params:
      ema: 20
      lookback: 40
      min_closes: 24
      entry_held: false
  - gate: corr
    params:
      logic: or
      xag_window: 40
      xag_min_abs: 0.1
      xag_flip_lookback: 50
      xag_max_flips: 0
      eur_window: 75
      eur_min_abs: 0.1
      eur_flip_lookback: 75
      eur_max_flips: 5
      confirm_size_one: 1.0
      confirm_size_both: 2.0
  - gate: time_filter
    params: {}
  - gate: seasonality_cap
    params:
      month_size_cap:
        6: 1.0
  - gate: churn
    params:
      min_on_bars: 3
      cooldown_bars: 8
  - gate: shock_exit
    params:
      shock_exit_abs_ret: 0.006
      shock_exit_sigma_k: 0.0
      shock_exit_sigma_window: 96
      shock_cooldown_bars: 0
